<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poiret+One&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "onQFXCTKG6ojNbY2B",
            });
        })();
    </script>
    <script type="text/javascript">
        window.onload = function () {
            const errorText = document.getElementById('error-text');
            document.getElementById('contact-form').addEventListener('submit', function (event) {
                event.preventDefault();
                emailjs.sendForm('outlook', 'portfolio_contact', this)
                    .then(() => {
                        errorText.innerHTML = '<p>Votre message a bien été envoyé.</p>'
                    }, (error) => {
                        errorText.innerHTML = `<p class="error">Impossible d'envoyer votre message. Veuillez réessayer plus tard.</p>`
                    });
            });
        }
    </script>
</head>

<body>
    <div class="position">
        <main class="contact-page">
            <a href="index.html">Retour à l'accueil</a>
            <h1>Contact</h1>
            <div id="error-text"></div>
            <form id="contact-form">
                <p class="required">Tous les champs sont obligatoires.</p>
                <div class="mail-info">
                    <p>
                        <label for="name">Prénom</label>
                        <input required type="text" id="name" name="user_name" placeholder="ex : Arthur">
                    </p>
                    <p>
                        <label for="surname">Nom</label>
                        <input required type="text" id="surname" name="user_surname" placeholder="ex : Dent">
                    </p>
                    <p>
                        <label for="email">Email</label>
                        <input required type="email" id="email" name="user_email" placeholder="ex : arthurdent@h2g2.com">
                    </p>
                    <p>
                        <label for="object">Sujet</label>
                        <input required type="text" id="object" name="object" placeholder="Écrivez l'objet de votre message ici">
                    </p>
                </div>
                <p class="message">
                    <label for="message">Message</label>
                    <textarea required name="message" id="message" name="message"
                        placeholder="Écrivez votre message ici"></textarea>
                </p>
                <input class="submit" type="submit" value="Envoyer">
            </form>
        </main>
        <ul class="reseaux">
            <li><a href="https://github.com/N-DaSilva">Github</a></li>
            <li><a href="https://www.linkedin.com/in/noor-da-silva/">LinkedIn</a></li>
            <li><a href="https://www.instagram.com/_mragape">Instagram</a></li>
        </ul>
    </div>
</body>

</html>